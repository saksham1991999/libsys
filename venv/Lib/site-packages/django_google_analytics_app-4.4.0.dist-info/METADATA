Metadata-Version: 2.1
Name: django-google-analytics-app
Version: 4.4.0
Summary: Django Google Analytics app allowing for server side/non-js tracking.
Home-page: http://github.com/praekelt/django-google-analytics
Author: Praekelt.org
Author-email: dev@praekelt.org
License: BSD
Platform: UNKNOWN
Classifier: Development Status :: 4 - Beta
Classifier: Framework :: Django
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: BSD License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 2
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
Requires-Dist: Django (<2.3,>=2.2.5)
Requires-Dist: django-celery
Requires-Dist: celery (<4.0)
Requires-Dist: requests
Requires-Dist: beautifulsoup4
Requires-Dist: six
Requires-Dist: structlog
Provides-Extra: lint
Requires-Dist: flake8 ; extra == 'lint'
Provides-Extra: test
Requires-Dist: responses ; extra == 'test'

Django Google Analytics
=======================
**Django Google Analytics brings the power of server side/non-js Google Analytics to your Django projects**

.. contents:: Contents
    :depth: 3

Installation
------------

#. Install ``django-google-analytics-app`` from PyPI or add to your Python path some other way.
#. Add ``google_analytics`` to you ``INSTALLED_APPS`` setting.
#. Add URL include to your project's ``urls.py`` file::

    (r'^djga/', include('google_analytics.urls')),

#. Specify a Google Analytics `tracking code <https://support.google.com/analytics/bin/answer.py?hl=en&answer=1008080>`_, i.e.::

    GOOGLE_ANALYTICS = {
        'google_analytics_id': 'xxx',
    }

   where ``xxx`` is your tracking code.

#. If you intend tracking through middleware and Celery remember to `install Celery and run its worker process <http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html>`_.

Usage
-----

There are two ways to add tracking to your pages.

1. HTML tag
***********

Using ``<img/>`` and sticking it in your ``base.html``::

    {% load google_analytics_tags %}
    <div style="display:none">
        <img src="{% google_analytics %}" width="0" height="0" />
    </div>

2. Middleware + Celery
**********************

Using Django's middleware, you can process every request and use Celery to make the request to Google Analytics::

    MIDDLEWARE = [
        'google_analytics.middleware.GoogleAnalyticsMiddleware',
    ]

You have to add ``google_analytics`` to your ``CELERY_IMPORTS``::

    CELERY_IMPORTS = ('google_analytics.tasks')

You can also specify paths that will be excluded when tracking::

    GOOGLE_ANALYTICS_IGNORE_PATH = ['/health/', ]


